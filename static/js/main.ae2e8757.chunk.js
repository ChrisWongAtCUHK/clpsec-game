(this["webpackJsonpclpsec-game"]=this["webpackJsonpclpsec-game"]||[]).push([[0],{210:function(e,n,t){e.exports=t(409)},215:function(e,n,t){},403:function(e,n,t){},404:function(e,n,t){},405:function(e,n,t){},409:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),r=t(64),o=t.n(r),l=(t(215),t(216),t(175)),i=t(27),u=t(47),m=t(411),s=t(412),f=t(11),b=t(413),g=t(48),p=t.n(g),d=t(28),k=t(156),E=t(179),h=t(15),v=t(3),w=t(176),y=function(e){return"https:"===window.location.protocol?"".concat(e,"s"):e},_="".concat(y("ws"),"://").concat("hge-realtime-app.herokuapp.com","/v1/graphql"),j="".concat(y("http"),"://").concat("hge-realtime-app.herokuapp.com","/v1/graphql"),O=new k.a({uri:_,options:{reconnect:!0}}),N=new E.a({uri:j}),x=Object(h.d)((function(e){var n=e.query,t=Object(v.l)(n),a=t.kind,c=t.operation;return"OperationDefinition"===a&&"subscription"===c}),O,N),C=new d.c({link:x,cache:new w.a}),D=t(177),K=t(20),M=t(72),q=t.n(M),S=[{name:"0",orange:0,blue:0,black:0},{name:"0.5",orange:0,blue:0,black:0},{name:"1",orange:0,blue:0,black:0},{name:"1.5",orange:0,blue:0,black:0},{name:"2",orange:0,blue:0,black:0},{name:"2.5",orange:0,blue:0,black:0},{name:"3",orange:0,blue:0,black:0},{name:"3.5",orange:0,blue:0,black:0},{name:"4",orange:0,blue:0,black:0},{name:"4.5",orange:0,blue:0,black:0},{name:"5",orange:0,blue:0,black:0}],W=function(e,n,t){n>=parseFloat(S[e-1].name)&&n<parseFloat(S[e].name)&&(S[e][t]++,"orange"===t&&S[e].black--,"blue"===t&&S[e].black++)},$=function(e){return c.a.createElement("div",{className:"d-flex justify-content-center"},"Second(s)")};var B=function(e){var n,t=e.click_game,a=t.length>0?t[0].clicked_at:null,r=Object(D.a)(t);try{for(r.s();!(n=r.n()).done;)for(var o=n.value,l=q.a.duration(q()(o.clicked_at).diff(q()(a))).as("seconds"),i=1;i<S.length-1;i++)W(i,l,o.color)}catch(u){r.e(u)}finally{r.f()}return c.a.createElement(K.d,{width:800,height:400,data:S,margin:{top:5,right:0,left:200,bottom:5}},c.a.createElement(K.a,{strokeDasharray:"3 3"}),c.a.createElement(K.f,{dataKey:"name"}),c.a.createElement(K.g,{type:"number",domain:["dataMin","dataMax"]}),c.a.createElement(K.e,null),c.a.createElement(K.b,{content:$}),c.a.createElement(K.c,{type:"monotone",dataKey:"orange",stroke:"#ff9559",activeDot:{r:8}}),c.a.createElement(K.c,{type:"monotone",dataKey:"blue",stroke:"#007aff"}),c.a.createElement(K.c,{type:"monotone",dataKey:"black",stroke:"#000000"}))},F=(t(403),t(404),function(e){var n=e.color,t=e.count;return c.a.createElement("div",{className:"text-center w-25 p-3 box ".concat(n)},t)});function G(){var e=Object(u.a)(["\n      mutation deleteAllClicks {\n        delete_click_game(where: {}) {\n          affected_rows\n        }\n      }\n    "]);return G=function(){return e},e}function J(){var e=Object(u.a)(["\n  subscription getClickGame {\n    click_game_in_time_range {\n      color\n      clicked_at\n    }\n  }\n"]);return J=function(){return e},e}var A=p()(J()),I=function(e,n){return e.filter((function(e){return e.color===n}))},L=function(){return C.mutate({mutation:p()(G())}),c.a.createElement(f.a,{client:C},c.a.createElement(b.b,{subscription:A},(function(e){var n=e.loading,t=e.error,a=e.data;if(n)return c.a.createElement("p",null,"Loading...");if(t)return c.a.createElement("p",null,"Error :");var r=a.click_game_in_time_range,o=I(r,"orange"),l=I(r,"blue");return c.a.createElement(m.a,{className:"vh-100"},c.a.createElement(s.a,{className:"w-100"},c.a.createElement(B,{click_game:r})),c.a.createElement(s.a,{className:"justify-content-md-center align-items-center"},c.a.createElement(F,{color:"orange",count:o.length}),c.a.createElement(F,{color:"blue",count:l.length})))})))},z=t(169),H=t(170),P=t(174),Q=t(178);t(405);function R(){var e=Object(u.a)(["\n  mutation insertClickGame($color: String) {\n    insert_click_game(objects: { color: $color }) {\n      affected_rows\n    }\n  }\n"]);return R=function(){return e},e}var T=p()(R()),U=function(e){var n=e.color;return c.a.createElement(b.a,{mutation:T,onCompleted:function(){},onError:function(){}},(function(e){return c.a.createElement("div",{className:"text-center p-3"},c.a.createElement("button",{className:"circle-btn ".concat(n),onClick:function(t){t.preventDefault(),e({variables:{color:n}})}},"orange"===n?"-":"+"))}))},V=function(e){Object(Q.a)(t,e);var n=Object(P.a)(t);function t(){return Object(z.a)(this,t),n.apply(this,arguments)}return Object(H.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return c.a.createElement(f.a,{client:C},c.a.createElement(m.a,null,c.a.createElement(s.a,{className:"vh-100 justify-content-md-center align-items-center"},c.a.createElement(U,{color:"orange"}),c.a.createElement(U,{color:"blue"}))))}}]),t}(a.Component);function X(){return c.a.createElement(l.a,{basename:"/clpsec-game"},c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/dashboard",component:L}),c.a.createElement(i.a,{path:"/client",component:V}),c.a.createElement(i.a,{path:"/",component:L})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[210,1,2]]]);
//# sourceMappingURL=main.ae2e8757.chunk.js.map