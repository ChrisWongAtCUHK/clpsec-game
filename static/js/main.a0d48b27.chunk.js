(this["webpackJsonpclpsec-game"]=this["webpackJsonpclpsec-game"]||[]).push([[0],{210:function(e,n,t){e.exports=t(409)},215:function(e,n,t){},403:function(e,n,t){},404:function(e,n,t){},405:function(e,n,t){},409:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),r=t(64),o=t.n(r),l=(t(215),t(216),t(175)),i=t(27),u=t(47),m=t(411),s=t(412),f=t(11),b=t(413),p=t(48),g=t.n(p),d=t(28),k=t(156),E=t(179),h=t(15),v=t(3),w=t(176),y=function(e){return"https:"===window.location.protocol?"".concat(e,"s"):e},_="".concat(y("ws"),"://").concat("hge-realtime-app.herokuapp.com","/v1/graphql"),j="".concat(y("http"),"://").concat("hge-realtime-app.herokuapp.com","/v1/graphql"),O=new k.a({uri:_,options:{reconnect:!0}}),N=new E.a({uri:j}),C=Object(h.d)((function(e){var n=e.query,t=Object(v.l)(n),a=t.kind,c=t.operation;return"OperationDefinition"===a&&"subscription"===c}),O,N),x=new d.c({link:C,cache:new w.a}),D=t(177),K=t(20),M=t(72),S=t.n(M),q=function(e,n,t,a){n>=parseFloat(a[e-1].name)&&n<parseFloat(a[e].name)&&(a[e][t]++,"orange"===t&&a[e].black--,"blue"===t&&a[e].black++)},W=function(e){return c.a.createElement("div",{className:"d-flex justify-content-center"},"Second(s)")};var $=function(e){var n=function(e){var n,t=[{name:"0",orange:0,blue:0,black:0},{name:"0.5",orange:0,blue:0,black:0},{name:"1",orange:0,blue:0,black:0},{name:"1.5",orange:0,blue:0,black:0},{name:"2",orange:0,blue:0,black:0},{name:"2.5",orange:0,blue:0,black:0},{name:"3",orange:0,blue:0,black:0},{name:"3.5",orange:0,blue:0,black:0},{name:"4",orange:0,blue:0,black:0},{name:"4.5",orange:0,blue:0,black:0},{name:"5",orange:0,blue:0,black:0}],a=e.length>0?e[0].clicked_at:null,c=Object(D.a)(e);try{for(c.s();!(n=c.n()).done;)for(var r=n.value,o=S.a.duration(S()(r.clicked_at).diff(S()(a))).as("seconds"),l=1;l<t.length-1;l++)q(l,o,r.color,t)}catch(i){c.e(i)}finally{c.f()}return t}(e.click_game);return c.a.createElement(K.d,{width:800,height:400,data:n,margin:{top:5,right:0,left:200,bottom:5}},c.a.createElement(K.a,{strokeDasharray:"3 3"}),c.a.createElement(K.f,{dataKey:"name"}),c.a.createElement(K.g,{interval:"preserveStartEnd",type:"number",domain:["dataMin","dataMax"],label:{value:"Click(s)",angle:-90,position:"insideLeft"}}),c.a.createElement(K.e,null),c.a.createElement(K.b,{content:W}),c.a.createElement(K.c,{type:"monotone",dataKey:"orange",stroke:"#ff9559",activeDot:{r:8}}),c.a.createElement(K.c,{type:"monotone",dataKey:"blue",stroke:"#007aff"}),c.a.createElement(K.c,{type:"monotone",dataKey:"black",stroke:"#000000"}))},B=(t(403),t(404),function(e){var n=e.color,t=e.count;return c.a.createElement("div",{className:"text-center w-25 p-3 box ".concat(n)},t)});function F(){var e=Object(u.a)(["\n      mutation deleteAllClicks {\n        delete_click_game(where: {}) {\n          affected_rows\n        }\n      }\n    "]);return F=function(){return e},e}function G(){var e=Object(u.a)(["\n  subscription getClickGame {\n    click_game_in_time_range {\n      color\n      clicked_at\n    }\n  }\n"]);return G=function(){return e},e}var J=g()(G()),L=function(e,n){return e.filter((function(e){return e.color===n}))},A=function(){return x.mutate({mutation:g()(F())}),c.a.createElement(f.a,{client:x},c.a.createElement(b.b,{subscription:J},(function(e){var n=e.loading,t=e.error,a=e.data;if(n)return c.a.createElement("p",null,"Loading...");if(t)return c.a.createElement("p",null,"Error :");var r=a.click_game_in_time_range,o=L(r,"orange"),l=L(r,"blue");return c.a.createElement(m.a,{className:"vh-100"},c.a.createElement(s.a,{className:"w-100"},c.a.createElement($,{click_game:r})),c.a.createElement(s.a,{className:"justify-content-md-center align-items-center"},c.a.createElement(B,{color:"orange",count:o.length}),c.a.createElement(B,{color:"blue",count:l.length})))})))},I=t(169),z=t(170),H=t(174),P=t(178);t(405);function Q(){var e=Object(u.a)(["\n  mutation insertClickGame($color: String) {\n    insert_click_game(objects: { color: $color }) {\n      affected_rows\n    }\n  }\n"]);return Q=function(){return e},e}var R=g()(Q()),T=function(e){var n=e.color;return c.a.createElement(b.a,{mutation:R,onCompleted:function(){},onError:function(){}},(function(e){return c.a.createElement("div",{className:"text-center p-3"},c.a.createElement("button",{className:"circle-btn ".concat(n),onClick:function(t){t.preventDefault(),e({variables:{color:n}})}},"orange"===n?"-":"+"))}))},U=function(e){Object(P.a)(t,e);var n=Object(H.a)(t);function t(){return Object(I.a)(this,t),n.apply(this,arguments)}return Object(z.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return c.a.createElement(f.a,{client:x},c.a.createElement(m.a,null,c.a.createElement(s.a,{className:"vh-100 justify-content-md-center align-items-center"},c.a.createElement(T,{color:"orange"}),c.a.createElement(T,{color:"blue"}))))}}]),t}(a.Component);function V(){return c.a.createElement(l.a,{basename:"/clpsec-game"},c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/dashboard",component:A}),c.a.createElement(i.a,{path:"/client",component:U}),c.a.createElement(i.a,{path:"/",component:A})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[210,1,2]]]);
//# sourceMappingURL=main.a0d48b27.chunk.js.map